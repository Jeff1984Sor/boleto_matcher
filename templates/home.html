{% extends "base.html" %}

{% block title %}Dashboard | MayaCorp Fit{% endblock %}

{% block content %}

<div class="max-w-7xl mx-auto space-y-16">

  <!-- ================= HEADER ================= -->
  <section class="flex flex-col md:flex-row md:items-end justify-between gap-8">
    <div>
      <h1 class="text-4xl md:text-5xl font-black tracking-tight text-white">
        Olá, <span class="text-accent">{{ user.username }}</span>
      </h1>
      <p class="text-white/60 mt-3 text-lg font-medium">
        Aqui está o panorama do studio hoje
      </p>
    </div>

    <div class="surface px-8 py-5 flex items-center gap-4">
      <span class="status-dot status-online"></span>
      <span class="text-xs font-black uppercase tracking-[0.3em] text-white/70">
        {% now "l, d \\d\\e F" %}
      </span>
    </div>
  </section>

  <!-- ================= KPIs ================= -->
  <section class="grid grid-cols-1 md:grid-cols-3 gap-8">

    <!-- Alunos -->
    <div class="card kpi-card">
      <div class="kpi-icon bg-secondary">
        <i class="fas fa-users"></i>
      </div>
      <div>
        <p class="kpi-label">Alunos Ativos</p>
        <p class="kpi-value">{{ total_alunos }}</p>
      </div>
    </div>

    <!-- Aulas -->
    <div class="card kpi-card">
      <div class="kpi-icon bg-primary">
        <i class="fas fa-dumbbell"></i>
      </div>
      <div>
        <p class="kpi-label">Aulas Hoje</p>
        <p class="kpi-value">{{ aulas_hoje }}</p>
      </div>
    </div>

    <!-- Financeiro -->
    <div class="card kpi-card">
      <div class="kpi-icon bg-accent text-accent-content">
        <i class="fas fa-wallet"></i>
      </div>
      <div>
        <p class="kpi-label">A Receber Hoje</p>
        <p class="kpi-value">R$ {{ receber_hoje }}</p>
      </div>
    </div>

  </section>

  <!-- ================= ATALHOS ================= -->
  <section class="space-y-6">
    <div class="flex items-center gap-6">
      <h3 class="section-title">Ações Rápidas</h3>
      <div class="flex-1 h-px bg-white/10"></div>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">

      <a href="{% url 'aluno_create' %}" class="action-card">
        <i class="fas fa-user-plus"></i>
        <span>Novo Aluno</span>
      </a>

      <a href="{% url 'calendario_semanal' %}" class="action-card">
        <i class="fas fa-calendar-alt"></i>
        <span>Agenda</span>
      </a>

      <a href="{% url 'contas_receber' %}" class="action-card">
        <i class="fas fa-chart-line"></i>
        <span>Financeiro</span>
      </a>

      <div class="action-card static">
        <div class="radial-progress text-secondary font-black"
             style="--value:85; --size:4.5rem; --thickness:6px;">
          85%
        </div>
        <span>Ocupação</span>
      </div>

    </div>
  </section>

</div>

{% endblock %}
